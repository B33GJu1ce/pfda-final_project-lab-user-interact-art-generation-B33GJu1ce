import pygame
import ui
import artwork

def main():
    pygame.init()
    screen = pygame.display.set_mode((800, 600))
    pygame.display.set_caption("Interactive Art Generator")

    # Initialize user interface
    ui.init(screen)  # Add the screen argument here

    # Initialize the color of the circle
    circle_color = (255, 0, 0)

    # Main loop
    running = True
    while running:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False
            elif event.type == pygame.KEYDOWN:
                if event.key == pygame.K_q:
                    running = False  # Quit the program if 'Q' is pressed

        # Update user interface and get the new color
        new_color = ui.update()

        # If a new color is returned, update the circle color
        if new_color:
            circle_color = new_color

        # Draw artwork
        artwork.draw(screen, circle_color)

        pygame.display.flip()

    pygame.quit()

if __name__ == "__main__":
    main()